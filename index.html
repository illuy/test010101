<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/media.css">

</head>

<body>
    <div class="wrap">
        <header class="navDown">
            <div class="dark">
                <span class="darkSun">
                    <i class="darkMoon"></i>
                </span>
                <span class="darkCloud">
                    <em class="cloud_L"></em>
                    <em class="cloud_R"></em>
                </span>
            </div>
            <h2>portfolio</h2>
            <div class="ham">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="gnb_back"></div>
            <nav class="gnb">
                <ul>
                    <li class="gnb_home"><a href="#home">home</a></li>
                    <li><a href="#about">about</a></li>
                    <li><a href="#design">design</a></li>
                    <li><a href="#contact">contact</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <section id="home">
                <div class="inner">
                    <img src="./image/image_quote2-1.png" alt="큰따옴표시작">
                    <div class="typing">
                        <span id="element"></span>
                    </div>
                    <img src="./image/image_quote2-2.png" alt="큰따옴표마침">
                </div>
            </section>
            <div class="homeBottom">
                <div class="down_btn">
                    <a href="#about">
                        <span>
                            <img src="./image/icon_arrowtwo_black.png" alt="down arrow">
                        </span>
                    </a>
                </div>
            </div>
            <section id="about">
                <div>
                    <img src="./image/postcard13-2.png" alt="자기소개엽서">
                </div>
            </section>
            <section id="design">
                <article class="cont01">
                    <div class="cont01_L">
                        <a href="none">
                            <img src="./image/image_logo_wagle.png" alt="와글와글">
                        </a>
                        <p>로고 브랜딩 및 웹디자인 퍼블리싱<span></span></p>
                        <!--  -->
                        <svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 665.17 489.87"
                            style="enable-background:new 0 0 665.17 489.87;" xml:space="preserve">
                            <path style="fill:none;stroke:#333333;stroke-miterlimit:10;" d="M462.76,438.76" />
                            <path style="fill:none;stroke:#333333;stroke-miterlimit:10;" d="M462.88,438.76" />
                            <path style="fill:none;stroke:#333333;stroke-miterlimit:10;" d="M463.03,438.76" />
                            <path style="fill:none;stroke:#333333;stroke-miterlimit:10;" d="M463.16,438.76" />
                            <polyline points="83.92,74.87 584.9,74.87 584.9,454.87 84.9,454.87 84.9,74.87 " />
                        </svg>
                        <!--  -->
                    </div>
                    <div class="cont01_mono">
                        <div class="cont01_R">
                            <a href="none">
                                <img src="./image/image_logo_monolab.png" alt="와글와글">
                            </a>
                            <p>웹디자인 퍼블리싱<span></span></p>
                            <!--  -->
                            <svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg"
                                xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 665.17 489.87"
                                style="enable-background:new 0 0 665.17 489.87;" xml:space="preserve">
                                <path style="fill:none;stroke:#333333;stroke-miterlimit:10;" d="M462.76,438.76" />
                                <path style="fill:none;stroke:#333333;stroke-miterlimit:10;" d="M462.88,438.76" />
                                <path style="fill:none;stroke:#333333;stroke-miterlimit:10;" d="M463.03,438.76" />
                                <path style="fill:none;stroke:#333333;stroke-miterlimit:10;" d="M463.16,438.76" />
                                <polyline points="83.92,74.87 584.9,74.87 584.9,454.87 84.9,454.87 84.9,74.87 " />
                            </svg>
                            <!--  -->
                        </div>
                    </div>
                </article>
                <article class="cont02">
                    <div>
                        <div class="cont02_L">
                            <a href="none">
                                <img src="./image/poster_cut_space2-1.png" alt="우주포스터">
                                <img src="./image/poster_space2.png" alt="우주포스터">
                            </a>
                        </div>
                        <div class="cont02_M">
                            <a href="none">
                                <img src="./image/poster_banner2-1.png" alt="디저트포스터">
                                <img src="./image/poster_banner.png" alt="디저트포스터">
                            </a>
                        </div>
                        <div class="cont02_R">
                            <a href="none">
                                <img src="./image/poster_color3-1.png" alt="컬러포스터">
                                <img src="./image/poster_color3.png" alt="컬러포스터">
                            </a>
                        </div>
                    </div>
                    <p>portfoilo design<span></span></p>
                </article>
            </section>
            <div id="cursorCustom" class="cursor">
                <!-- <img src="./image/cursor_dog-ani3.gif" alt="커서"> -->
            </div>
            <div class="top">
                <div class="current">
                    <span>0</span>
                </div>
                <div class="top_btn">
                    <a href="#">
                        top
                    </a>
                </div>
            </div>
        </main>
        <div class="foot">
            <div class="footTop"></div>
            <footer>
                <img src="./image/postcard20-3.png" alt="">
            </footer>
        </div>
    </div>


    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://unpkg.com/typeit@8.7.0/dist/index.umd.js"></script>


    <script>

        let cursor = document.getElementById('cursorCustom')
        let mouseX = 0;
        let mouseY = 0;
        let currentX = 0;
        let currentY = 0;

        let timeout;

        document.addEventListener('mousemove', function (e) {
            mouseX = e.clientX;
            mouseY = e.clientY;

            cursor.style.backgroundImage = "url(./image/cursor_dog-ani3.gif)"

            clearTimeout(timeout);
            timeout = setTimeout(function(){
                cursor.style.backgroundImage = "url(./image/cursor_dog4-3.png)"
            }, 1000);
        })

        function followMouse() {
            currentX += (mouseX - currentX) * 0.2;
            currentY += (mouseY - currentY) * 0.2;

            cursor.style.left = currentX + 'px';
            cursor.style.top = currentY + 'px';

            requestAnimationFrame(followMouse)
        }

        followMouse();

        let lineOne = $('.cont01_L svg')
        let lineTwo = $('.cont01_R svg')
        let contOne = $('.cont01_L')
        let contTwo = $('.cont01_R')
        let contThree = $('.cont02')

        $('.dark').click(function () {
            $(this).toggleClass('click')
            $('body').toggleClass('click')
            $('.ham span').toggleClass('click')
        })

        $(window).scroll(function () {
            let curScroll = $(this).scrollTop().toFixed(0)
            $('.current span').text(curScroll)

            if (curScroll > 500) {
                $('.top_btn').removeClass('on')
            }
            else {
                $('.top_btn').addClass('on')
            }

            // let $about = $('#about').offset().top - ($('#about').outerHeight() / 2);
            let $designOne = $('#design').offset().top - ($('#design').outerHeight() / 2);
            // let $designTwo = $('#design').offset().top - ($('#design').outerHeight() / 5);
            // let $contact = $('#contact').offset().top - ($('#contact').outerHeight() / 2);

            if (curScroll >= $designOne) {
                lineOne.addClass('on')
                lineOne.addClass('on')
                contOne.addClass('on')
                contTwo.addClass('on')
                contThree.addClass('on')
            } else {
                lineOne.removeClass('on')
                lineOne.removeClass('on')
                contOne.removeClass('on')
                contTwo.removeClass('on')
                contThree.removeClass('on')
            }
        })

        $('.ham').click(function () {
            $('.gnb').toggleClass('on')
            $('.ham span').toggleClass('on')
            $('.gnb_back').toggleClass('on')

        })

        $('.gnb_back').click(function () {
            $('.gnb').removeClass('on')
            $('.ham span').removeClass('on')
            $(this).removeClass('on')
        })

        document.addEventListener("DOMContentLoaded", function () {
            new TypeIt("#element", {
                strings: ["Hi, I'm"],
                speed: 100,
                startDelay: 900,
            })
                .type(" Han!", { delay: 900 })
                .delete(4)
                .type("Web", { delay: 400 })
                .type("designer.", { delay: 400 })
                .move(-9, { delay: 100 })
                .type(" ", { delay: 400 })
                .move(9, { delay: 100 })
                .go();
        });

        let line = document.querySelector('polyline');
        // alert(line.getTotalLength())
        // 
        // 
        // 
        // 
        // 
        // Hide Header on on scroll down
        let didScroll;
        let lastScrollTop = 0;
        let delta = 20; // 동작의 구현이 시작되는 위치
        let navbarHeight = $('header').outerHeight(); // 영향을 받을 요소를 선택

        // 스크롤시에 사용자가 스크롤했다는 것을 알림
        $(window).scroll(function (e) {
            didScroll = true;
        });

        // hasScrolled()를 실행하고 didScroll 상태 재설정
        setInterval(function () {
            if (didScroll) {
                hasScrolled();
                didScroll = false;
            }
        }, 250);

        // 동작 구현
        function hasScrolled() {

            // 접근하기 쉽게 현재 스크롤의 위치 저장(적은 이동 무시)
            let st = $(window).scrollTop();

            // 헤더 탑 0 무조건 스크롤 보임
            if (st <= 0) {
                $('header').removeClass('navUp').addClass('navDown');
                return;
            }

            // 설정한 delta 값보다 더 스크롤되었는지 확인
            if (Math.abs(lastScrollTop - st) <= delta) {
                return;
            }

            // 헤더의 높이보다 더 스크롤되었는지 확인 후 스크롤의 방향까지 확인
            if (st > lastScrollTop && st > navbarHeight) {
                // Scroll Down
                $('header').removeClass('navDown').addClass('navUp');
            } else {
                // Scroll Up
                if (st + $(window).height() < $(document).height()) {
                    $('header').removeClass('navUp').addClass('navDown');
                }
            }

            // lastScrollTop 에 현재 스크롤 위치 지정
            lastScrollTop = st;
        }

        /* 추가로 웹페이지의 스크롤을 내렸을때를 감지해 코드를 실행시키는 함수입니다.
        $(window).scroll(function(){ 
           if($(window).scrollTop() == $(document).height() - $(window).height()){ 
              // 실행할 함수
           } 
        });
        */

        
    </script>
</body>

</html>